{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sharing-board",
  "type": "registry:block",
  "title": "Sharing Board (AFANDA)",
  "description": "Collaborative sharing board with permissions, comments, version tracking, and real-time presence",
  "categories": [
    "afanda",
    "collaboration",
    "sharing"
  ],
  "registryDependencies": [
    "card",
    "dialog",
    "button",
    "avatar"
  ],
  "dependencies": [],
  "devDependencies": [],
  "files": [
    {
      "path": "src/blocks/afanda/sharing-board.tsx",
      "type": "registry:component",
      "content": "\"use client\"\n\n/**\n * Sharing Board - AFANDA Platform Component\n *\n * FigJam-style collaborative board for document sharing and consultation.\n * Implements A01-CANONICAL.md §8 — AFANDA (Unified Board)\n *\n * Features:\n * - Share documents with team members\n * - Request consultation/approval\n * - Add comments and annotations\n * - Track read receipts\n * - Deadline management\n *\n * @example\n * ```tsx\n * import { SharingBoard } from \"@workspace/design-system\"\n *\n * <SharingBoard\n *   items={sharedItems}\n *   onShare={(item, recipients) => shareDocument(item, recipients)}\n *   onComment={(itemId, comment) => addComment(itemId, comment)}\n * />\n * ```\n */\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from \"@/components/card\"\nimport { Badge } from \"@/components/badge\"\nimport { Button } from \"@/components/button\"\nimport { Input } from \"@/components/input\"\nimport { Textarea } from \"@/components/textarea\"\nimport { Avatar } from \"@/components/avatar\"\nimport { ScrollArea } from \"@/components/scroll-area\"\nimport { Separator } from \"@/components/separator\"\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/dialog\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/dropdown-menu\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/tooltip\"\nimport {\n  Share2,\n  MessageSquare,\n  Eye,\n  EyeOff,\n  Clock,\n  CheckCircle,\n  AlertCircle,\n  Plus,\n  MoreVertical,\n  FileText,\n  Users,\n  Send,\n  Paperclip,\n  Calendar,\n  Bell,\n  ThumbsUp,\n  Reply,\n  Loader2,\n} from \"lucide-react\"\n\n// ============================================================================\n// Types\n// ============================================================================\n\nexport type ShareStatus = \"pending\" | \"viewed\" | \"acknowledged\" | \"action_required\"\nexport type ShareType = \"info\" | \"review\" | \"approval\" | \"consultation\"\n\nexport interface Participant {\n  id: string\n  name: string\n  email?: string\n  role?: string\n  avatarUrl?: string\n  status?: ShareStatus\n  viewedAt?: string | Date\n  acknowledgedAt?: string | Date\n}\n\nexport interface Comment {\n  id: string\n  author: Participant\n  content: string\n  createdAt: string | Date\n  parentId?: string\n  reactions?: { emoji: string; count: number; users: string[] }[]\n}\n\nexport interface SharedItem {\n  id: string\n  title: string\n  description?: string\n  type: ShareType\n  documentType?: string\n  documentId?: string\n  sharedBy: Participant\n  sharedAt: string | Date\n  deadline?: string | Date\n  participants: Participant[]\n  comments: Comment[]\n  attachments?: { id: string; name: string; url: string }[]\n  metadata?: Record<string, unknown>\n}\n\nexport interface SharingBoardProps {\n  /** Shared items */\n  items: SharedItem[]\n  /** Current user */\n  currentUser: Participant\n  /** Share callback */\n  onShare?: (item: Partial<SharedItem>, recipients: string[]) => Promise<void>\n  /** Add comment callback */\n  onComment?: (itemId: string, content: string, parentId?: string) => Promise<void>\n  /** Acknowledge callback */\n  onAcknowledge?: (itemId: string) => Promise<void>\n  /** View document callback */\n  onViewDocument?: (item: SharedItem) => void\n  /** Remove participant callback */\n  onRemoveParticipant?: (itemId: string, participantId: string) => Promise<void>\n  /** Show read receipts */\n  showReadReceipts?: boolean\n  /** Custom className */\n  className?: string\n}\n\n// ============================================================================\n// Constants\n// ============================================================================\n\nconst TYPE_CONFIG: Record<\n  ShareType,\n  {\n    icon: React.ComponentType<{ className?: string }>\n    color: string\n    bgColor: string\n    label: string\n  }\n> = {\n  info: { icon: Bell, color: \"text-blue-600\", bgColor: \"bg-blue-100\", label: \"FYI\" },\n  review: { icon: Eye, color: \"text-amber-600\", bgColor: \"bg-amber-100\", label: \"Review\" },\n  approval: { icon: CheckCircle, color: \"text-green-600\", bgColor: \"bg-green-100\", label: \"Approval\" },\n  consultation: { icon: MessageSquare, color: \"text-purple-600\", bgColor: \"bg-purple-100\", label: \"Consult\" },\n}\n\nconst STATUS_CONFIG: Record<ShareStatus, { icon: React.ComponentType<{ className?: string }>; color: string; label: string }> = {\n  pending: { icon: Clock, color: \"text-gray-500\", label: \"Pending\" },\n  viewed: { icon: Eye, color: \"text-blue-500\", label: \"Viewed\" },\n  acknowledged: { icon: CheckCircle, color: \"text-green-500\", label: \"Acknowledged\" },\n  action_required: { icon: AlertCircle, color: \"text-amber-500\", label: \"Action Required\" },\n}\n\n// ============================================================================\n// Helper Components\n// ============================================================================\n\nfunction formatDate(date: string | Date): string {\n  const d = typeof date === \"string\" ? new Date(date) : date\n  return d.toLocaleDateString(\"en-US\", {\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  })\n}\n\nfunction formatRelativeTime(date: string | Date): string {\n  const d = typeof date === \"string\" ? new Date(date) : date\n  const now = new Date()\n  const diffMs = now.getTime() - d.getTime()\n  const diffMins = Math.floor(diffMs / (1000 * 60))\n  const diffHours = Math.floor(diffMs / (1000 * 60 * 60))\n  const diffDays = Math.floor(diffMs / (1000 * 60 * 60 * 24))\n\n  if (diffMins < 1) return \"Just now\"\n  if (diffMins < 60) return `${diffMins}m ago`\n  if (diffHours < 24) return `${diffHours}h ago`\n  if (diffDays < 7) return `${diffDays}d ago`\n  return formatDate(date)\n}\n\nfunction ParticipantAvatar({ participant, showStatus }: { participant: Participant; showStatus?: boolean }) {\n  const statusConfig = participant.status ? STATUS_CONFIG[participant.status] : null\n\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger>\n          <div className=\"relative\">\n            <Avatar className=\"h-8 w-8 border-2 border-background\">\n              {participant.avatarUrl ? (\n                <img src={participant.avatarUrl} alt={participant.name} />\n              ) : (\n                <div className=\"flex h-full w-full items-center justify-center bg-muted text-xs font-medium\">\n                  {participant.name.charAt(0).toUpperCase()}\n                </div>\n              )}\n            </Avatar>\n            {showStatus && statusConfig && (\n              <div\n                className={cn(\n                  \"absolute -bottom-1 -right-1 rounded-full bg-background p-0.5\",\n                  statusConfig.color\n                )}\n              >\n                <statusConfig.icon className=\"h-3 w-3\" />\n              </div>\n            )}\n          </div>\n        </TooltipTrigger>\n        <TooltipContent>\n          <p className=\"font-medium\">{participant.name}</p>\n          {participant.role && <p className=\"text-xs text-muted-foreground\">{participant.role}</p>}\n          {participant.status && (\n            <p className=\"text-xs\">{STATUS_CONFIG[participant.status].label}</p>\n          )}\n          {participant.viewedAt && (\n            <p className=\"text-xs text-muted-foreground\">\n              Viewed: {formatDate(participant.viewedAt)}\n            </p>\n          )}\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  )\n}\n\nfunction CommentItem({\n  comment,\n  onReply,\n  currentUserId,\n}: {\n  comment: Comment\n  onReply?: (parentId: string) => void\n  currentUserId: string\n}) {\n  return (\n    <div className=\"flex gap-3\">\n      <ParticipantAvatar participant={comment.author} />\n      <div className=\"flex-1 min-w-0\">\n        <div className=\"flex items-center gap-2\">\n          <span className=\"font-medium text-sm\">{comment.author.name}</span>\n          <span className=\"text-xs text-muted-foreground\">\n            {formatRelativeTime(comment.createdAt)}\n          </span>\n        </div>\n        <p className=\"mt-1 text-sm\">{comment.content}</p>\n        <div className=\"mt-2 flex items-center gap-2\">\n          {comment.reactions?.map((reaction, index) => (\n            <button\n              key={index}\n              className=\"inline-flex items-center gap-1 rounded-full bg-muted px-2 py-0.5 text-xs hover:bg-muted/80\"\n            >\n              <span>{reaction.emoji}</span>\n              <span>{reaction.count}</span>\n            </button>\n          ))}\n          {onReply && (\n            <button\n              onClick={() => onReply(comment.id)}\n              className=\"inline-flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground\"\n            >\n              <Reply className=\"h-3 w-3\" />\n              Reply\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\n// ============================================================================\n// Share Card\n// ============================================================================\n\nfunction ShareCard({\n  item,\n  currentUser,\n  onComment,\n  onAcknowledge,\n  onViewDocument,\n  showReadReceipts,\n}: {\n  item: SharedItem\n  currentUser: Participant\n  onComment?: (itemId: string, content: string, parentId?: string) => Promise<void>\n  onAcknowledge?: (itemId: string) => Promise<void>\n  onViewDocument?: (item: SharedItem) => void\n  showReadReceipts: boolean\n}) {\n  const [showComments, setShowComments] = React.useState(false)\n  const [newComment, setNewComment] = React.useState(\"\")\n  const [isSubmitting, setIsSubmitting] = React.useState(false)\n  const [isAcknowledging, setIsAcknowledging] = React.useState(false)\n\n  const typeConfig = TYPE_CONFIG[item.type]\n  const TypeIcon = typeConfig.icon\n\n  const currentParticipant = item.participants.find((p) => p.id === currentUser.id)\n  const needsAcknowledge = currentParticipant && currentParticipant.status !== \"acknowledged\"\n  const isOverdue = item.deadline && new Date(item.deadline) < new Date()\n\n  const viewedCount = item.participants.filter((p) => p.status !== \"pending\").length\n  const acknowledgedCount = item.participants.filter((p) => p.status === \"acknowledged\").length\n\n  const handleSubmitComment = async () => {\n    if (!newComment.trim() || !onComment) return\n    setIsSubmitting(true)\n    try {\n      await onComment(item.id, newComment)\n      setNewComment(\"\")\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  const handleAcknowledge = async () => {\n    if (!onAcknowledge) return\n    setIsAcknowledging(true)\n    try {\n      await onAcknowledge(item.id)\n    } finally {\n      setIsAcknowledging(false)\n    }\n  }\n\n  return (\n    <Card className={cn(isOverdue && \"border-red-300 dark:border-red-800\")}>\n      <CardHeader className=\"pb-3\">\n        <div className=\"flex items-start justify-between\">\n          <div className=\"flex items-start gap-3\">\n            <div className={cn(\"rounded-lg p-2\", typeConfig.bgColor)}>\n              <TypeIcon className={cn(\"h-5 w-5\", typeConfig.color)} />\n            </div>\n            <div>\n              <CardTitle className=\"text-base\">{item.title}</CardTitle>\n              {item.description && (\n                <CardDescription className=\"mt-1\">{item.description}</CardDescription>\n              )}\n            </div>\n          </div>\n          <DropdownMenu>\n            <DropdownMenuTrigger>\n              <Button variant=\"ghost\" size=\"sm\" className=\"h-8 w-8 p-0\">\n                <MoreVertical className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\">\n              <DropdownMenuItem onClick={() => onViewDocument?.(item)}>\n                <FileText className=\"mr-2 h-4 w-4\" />\n                View Document\n              </DropdownMenuItem>\n              <DropdownMenuSeparator />\n              <DropdownMenuItem>\n                <Bell className=\"mr-2 h-4 w-4\" />\n                Mute Notifications\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        {/* Meta Info */}\n        <div className=\"mt-3 flex items-center gap-4 text-xs text-muted-foreground\">\n          <div className=\"flex items-center gap-1\">\n            <ParticipantAvatar participant={item.sharedBy} />\n            <span>{item.sharedBy.name}</span>\n          </div>\n          <span>{formatRelativeTime(item.sharedAt)}</span>\n          <Badge className={cn(typeConfig.bgColor, typeConfig.color, \"border-0\")}>\n            {typeConfig.label}\n          </Badge>\n          {isOverdue && (\n            <Badge variant=\"destructive\" className=\"text-xs\">\n              Overdue\n            </Badge>\n          )}\n        </div>\n\n        {/* Deadline */}\n        {item.deadline && (\n          <div\n            className={cn(\n              \"mt-2 flex items-center gap-1 text-xs\",\n              isOverdue ? \"text-red-600\" : \"text-muted-foreground\"\n            )}\n          >\n            <Calendar className=\"h-3 w-3\" />\n            Due: {formatDate(item.deadline)}\n          </div>\n        )}\n      </CardHeader>\n\n      <CardContent className=\"space-y-4\">\n        {/* Participants */}\n        <div>\n          <div className=\"flex items-center justify-between mb-2\">\n            <span className=\"text-xs text-muted-foreground\">\n              {showReadReceipts\n                ? `${viewedCount}/${item.participants.length} viewed • ${acknowledgedCount} acknowledged`\n                : `${item.participants.length} participants`}\n            </span>\n          </div>\n          <div className=\"flex -space-x-2\">\n            {item.participants.slice(0, 6).map((participant) => (\n              <ParticipantAvatar\n                key={participant.id}\n                participant={participant}\n                showStatus={showReadReceipts}\n              />\n            ))}\n            {item.participants.length > 6 && (\n              <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-muted text-xs font-medium border-2 border-background\">\n                +{item.participants.length - 6}\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Attachments */}\n        {item.attachments && item.attachments.length > 0 && (\n          <div className=\"flex flex-wrap gap-2\">\n            {item.attachments.map((attachment) => (\n              <a\n                key={attachment.id}\n                href={attachment.url}\n                className=\"inline-flex items-center gap-1 rounded-md bg-muted px-2 py-1 text-xs hover:bg-muted/80\"\n              >\n                <Paperclip className=\"h-3 w-3\" />\n                {attachment.name}\n              </a>\n            ))}\n          </div>\n        )}\n\n        {/* Comments Section */}\n        {item.comments.length > 0 && (\n          <div>\n            <button\n              onClick={() => setShowComments(!showComments)}\n              className=\"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground\"\n            >\n              <MessageSquare className=\"h-4 w-4\" />\n              {item.comments.length} comment{item.comments.length !== 1 ? \"s\" : \"\"}\n            </button>\n            {showComments && (\n              <div className=\"mt-3 space-y-4 border-l-2 pl-4\">\n                {item.comments.map((comment) => (\n                  <CommentItem\n                    key={comment.id}\n                    comment={comment}\n                    currentUserId={currentUser.id}\n                  />\n                ))}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Add Comment */}\n        {onComment && (\n          <div className=\"flex gap-2\">\n            <Input\n              placeholder=\"Add a comment...\"\n              value={newComment}\n              onChange={(e) => setNewComment(e.target.value)}\n              onKeyDown={(e) => e.key === \"Enter\" && !e.shiftKey && handleSubmitComment()}\n            />\n            <Button\n              size=\"sm\"\n              onClick={handleSubmitComment}\n              disabled={!newComment.trim() || isSubmitting}\n            >\n              {isSubmitting ? (\n                <Loader2 className=\"h-4 w-4 animate-spin\" />\n              ) : (\n                <Send className=\"h-4 w-4\" />\n              )}\n            </Button>\n          </div>\n        )}\n      </CardContent>\n\n      {/* Actions */}\n      {(needsAcknowledge || onViewDocument) && (\n        <CardFooter className=\"gap-2 pt-0\">\n          {onViewDocument && (\n            <Button variant=\"outline\" size=\"sm\" onClick={() => onViewDocument(item)}>\n              <Eye className=\"mr-1 h-3 w-3\" />\n              View Document\n            </Button>\n          )}\n          {needsAcknowledge && onAcknowledge && (\n            <Button size=\"sm\" onClick={handleAcknowledge} disabled={isAcknowledging}>\n              {isAcknowledging ? (\n                <Loader2 className=\"mr-1 h-3 w-3 animate-spin\" />\n              ) : (\n                <ThumbsUp className=\"mr-1 h-3 w-3\" />\n              )}\n              Acknowledge\n            </Button>\n          )}\n        </CardFooter>\n      )}\n    </Card>\n  )\n}\n\n// ============================================================================\n// New Share Dialog\n// ============================================================================\n\nfunction NewShareDialog({\n  open,\n  onOpenChange,\n  onShare,\n}: {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  onShare?: (item: Partial<SharedItem>, recipients: string[]) => Promise<void>\n}) {\n  const [title, setTitle] = React.useState(\"\")\n  const [description, setDescription] = React.useState(\"\")\n  const [type, setType] = React.useState<ShareType>(\"info\")\n  const [recipients, setRecipients] = React.useState(\"\")\n  const [isSubmitting, setIsSubmitting] = React.useState(false)\n\n  const handleSubmit = async () => {\n    if (!title.trim() || !recipients.trim() || !onShare) return\n    setIsSubmitting(true)\n    try {\n      await onShare(\n        { title, description, type },\n        recipients.split(\",\").map((r) => r.trim())\n      )\n      onOpenChange(false)\n      setTitle(\"\")\n      setDescription(\"\")\n      setRecipients(\"\")\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Share2 className=\"h-5 w-5\" />\n            Share with Team\n          </DialogTitle>\n          <DialogDescription>\n            Share a document or request consultation from team members\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"space-y-4 py-4\">\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Title</label>\n            <Input\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              placeholder=\"What are you sharing?\"\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Description</label>\n            <Textarea\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder=\"Add context or instructions...\"\n              rows={3}\n            />\n          </div>\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Type</label>\n            <div className=\"flex gap-2\">\n              {Object.entries(TYPE_CONFIG).map(([key, config]) => (\n                <Button\n                  key={key}\n                  variant={type === key ? \"default\" : \"outline\"}\n                  size=\"sm\"\n                  onClick={() => setType(key as ShareType)}\n                >\n                  <config.icon className=\"mr-1 h-3 w-3\" />\n                  {config.label}\n                </Button>\n              ))}\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <label className=\"text-sm font-medium\">Recipients (comma separated)</label>\n            <Input\n              value={recipients}\n              onChange={(e) => setRecipients(e.target.value)}\n              placeholder=\"user@example.com, another@example.com\"\n            />\n          </div>\n        </div>\n        <DialogFooter>\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancel\n          </Button>\n          <Button onClick={handleSubmit} disabled={!title.trim() || !recipients.trim() || isSubmitting}>\n            {isSubmitting ? (\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n            ) : (\n              <Share2 className=\"mr-2 h-4 w-4\" />\n            )}\n            Share\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  )\n}\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nexport function SharingBoard({\n  items,\n  currentUser,\n  onShare,\n  onComment,\n  onAcknowledge,\n  onViewDocument,\n  onRemoveParticipant,\n  showReadReceipts = true,\n  className,\n}: SharingBoardProps) {\n  const [showNewShareDialog, setShowNewShareDialog] = React.useState(false)\n\n  // Group items by status\n  const actionRequired = items.filter((item) =>\n    item.participants.some(\n      (p) => p.id === currentUser.id && p.status === \"action_required\"\n    )\n  )\n  const needsAcknowledge = items.filter((item) =>\n    item.participants.some(\n      (p) => p.id === currentUser.id && p.status !== \"acknowledged\" && !actionRequired.includes(item)\n    )\n  )\n  const acknowledged = items.filter((item) =>\n    item.participants.some(\n      (p) => p.id === currentUser.id && p.status === \"acknowledged\"\n    )\n  )\n\n  return (\n    <>\n      <Card className={className}>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"flex items-center gap-2\">\n                <Share2 className=\"h-5 w-5\" />\n                Sharing Board\n              </CardTitle>\n              <CardDescription>\n                {items.length} shared item{items.length !== 1 ? \"s\" : \"\"} •{\" \"}\n                {actionRequired.length} require action\n              </CardDescription>\n            </div>\n            {onShare && (\n              <Button onClick={() => setShowNewShareDialog(true)}>\n                <Plus className=\"mr-2 h-4 w-4\" />\n                Share\n              </Button>\n            )}\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {items.length === 0 ? (\n            <div className=\"flex flex-col items-center justify-center py-12 text-center\">\n              <Share2 className=\"h-12 w-12 text-muted-foreground/50\" />\n              <h3 className=\"mt-4 font-semibold\">No shared items</h3>\n              <p className=\"text-sm text-muted-foreground\">\n                Share a document to start collaborating\n              </p>\n            </div>\n          ) : (\n            <>\n              {/* Action Required */}\n              {actionRequired.length > 0 && (\n                <div>\n                  <h3 className=\"flex items-center gap-2 mb-3 font-semibold text-amber-600\">\n                    <AlertCircle className=\"h-4 w-4\" />\n                    Action Required\n                    <Badge variant=\"secondary\">{actionRequired.length}</Badge>\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {actionRequired.map((item) => (\n                      <ShareCard\n                        key={item.id}\n                        item={item}\n                        currentUser={currentUser}\n                        onComment={onComment}\n                        onAcknowledge={onAcknowledge}\n                        onViewDocument={onViewDocument}\n                        showReadReceipts={showReadReceipts}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Needs Acknowledge */}\n              {needsAcknowledge.length > 0 && (\n                <div>\n                  <h3 className=\"flex items-center gap-2 mb-3 font-semibold\">\n                    <Eye className=\"h-4 w-4\" />\n                    Pending Review\n                    <Badge variant=\"secondary\">{needsAcknowledge.length}</Badge>\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {needsAcknowledge.map((item) => (\n                      <ShareCard\n                        key={item.id}\n                        item={item}\n                        currentUser={currentUser}\n                        onComment={onComment}\n                        onAcknowledge={onAcknowledge}\n                        onViewDocument={onViewDocument}\n                        showReadReceipts={showReadReceipts}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n\n              {/* Acknowledged */}\n              {acknowledged.length > 0 && (\n                <div>\n                  <h3 className=\"flex items-center gap-2 mb-3 font-semibold text-muted-foreground\">\n                    <CheckCircle className=\"h-4 w-4\" />\n                    Completed\n                    <Badge variant=\"secondary\">{acknowledged.length}</Badge>\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {acknowledged.map((item) => (\n                      <ShareCard\n                        key={item.id}\n                        item={item}\n                        currentUser={currentUser}\n                        onComment={onComment}\n                        onAcknowledge={onAcknowledge}\n                        onViewDocument={onViewDocument}\n                        showReadReceipts={showReadReceipts}\n                      />\n                    ))}\n                  </div>\n                </div>\n              )}\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      <NewShareDialog\n        open={showNewShareDialog}\n        onOpenChange={setShowNewShareDialog}\n        onShare={onShare}\n      />\n    </>\n  )\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport type { ShareStatus, ShareType, Participant, Comment, SharedItem }\n"
    }
  ]
}