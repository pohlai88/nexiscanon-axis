{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "ap-aging-table",
  "type": "registry:block",
  "title": "AP Aging Table (ERP)",
  "description": "Accounts Payable aging analysis with vendor details, payment scheduling, and cash flow projection",
  "categories": [
    "erp",
    "accounting",
    "payables"
  ],
  "registryDependencies": [
    "table",
    "card",
    "badge",
    "tooltip"
  ],
  "dependencies": [],
  "devDependencies": [],
  "files": [
    {
      "path": "src/blocks/erp/ap-aging-table.tsx",
      "type": "registry:component",
      "content": "\"use client\"\n\n/**\n * AP Aging Table - ERP Domain Component\n *\n * Accounts Payable aging analysis.\n * Implements A01-CANONICAL.md §3 — Three Pillars (Obligations: \"Who owes whom?\")\n *\n * Features:\n * - Aging buckets (Current, 30, 60, 90, 90+)\n * - Supplier drill-down\n * - Payment scheduling\n * - Cash flow projection\n * - Export functionality\n *\n * @example\n * ```tsx\n * import { APAgingTable } from \"@workspace/design-system\"\n *\n * <APAgingTable\n *   data={apAgingData}\n *   onSupplierClick={(supplier) => router.push(`/suppliers/${supplier.id}`)}\n *   onSchedulePayment={(ids) => openPaymentScheduler(ids)}\n * />\n * ```\n */\n\nimport * as React from \"react\"\nimport { cn } from \"@/lib/utils\"\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableHeader,\n  TableRow,\n} from \"@/components/table\"\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/card\"\nimport { Badge } from \"@/components/badge\"\nimport { Button } from \"@/components/button\"\nimport { Checkbox } from \"@/components/checkbox\"\nimport { Progress } from \"@/components/progress\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/dropdown-menu\"\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/tooltip\"\nimport {\n  DollarSign,\n  AlertTriangle,\n  Download,\n  ChevronDown,\n  ChevronRight,\n  ExternalLink,\n  Clock,\n  CheckCircle,\n  AlertCircle,\n  Calendar,\n  CreditCard,\n  Banknote,\n} from \"lucide-react\"\n\n// ============================================================================\n// Types (AgingBucket imported from shared types to avoid conflicts)\n// ============================================================================\n\nimport type { AgingBucket } from \"../types\"\n\nexport interface SupplierAging {\n  id: string\n  name: string\n  code?: string\n  totalOwed: number\n  buckets: AgingBucket\n  lastPaymentDate?: string\n  lastPaymentAmount?: number\n  paymentTerms?: string\n  discountAvailable?: {\n    amount: number\n    dueDate: string\n    terms: string // e.g., \"2/10 Net 30\"\n  }\n  preferredPaymentMethod?: \"check\" | \"ach\" | \"wire\" | \"card\"\n  priority?: \"low\" | \"normal\" | \"high\" | \"critical\"\n}\n\nexport interface APAgingSummary {\n  totalOwed: number\n  totalCurrent: number\n  total30: number\n  total60: number\n  total90: number\n  total90Plus: number\n  totalOverdue: number\n  overduePercentage: number\n  supplierCount: number\n  discountsAvailable: number\n  cashRequired7Days?: number\n  cashRequired30Days?: number\n}\n\nexport interface APAgingTableProps {\n  /** Supplier aging data */\n  data: SupplierAging[]\n  /** Summary totals (calculated if not provided) */\n  summary?: APAgingSummary\n  /** Callback when supplier is clicked */\n  onSupplierClick?: (supplier: SupplierAging) => void\n  /** Schedule payment callback */\n  onSchedulePayment?: (supplierIds: string[]) => void\n  /** Export callback */\n  onExport?: (format: \"csv\" | \"excel\" | \"pdf\") => void\n  /** Currency symbol */\n  currency?: string\n  /** Show discount opportunities */\n  showDiscounts?: boolean\n  /** Show payment scheduling */\n  showPaymentScheduling?: boolean\n  /** Collapsible supplier details */\n  collapsible?: boolean\n  /** Custom className */\n  className?: string\n}\n\n// ============================================================================\n// Helpers\n// ============================================================================\n\nfunction formatCurrency(amount: number, currency: string = \"$\"): string {\n  return `${currency}${amount.toLocaleString(\"en-US\", {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2,\n  })}`\n}\n\nfunction calculateSummary(data: SupplierAging[]): APAgingSummary {\n  const totals = data.reduce(\n    (acc, supplier) => ({\n      totalOwed: acc.totalOwed + supplier.totalOwed,\n      totalCurrent: acc.totalCurrent + supplier.buckets.current,\n      total30: acc.total30 + supplier.buckets.days30,\n      total60: acc.total60 + supplier.buckets.days60,\n      total90: acc.total90 + supplier.buckets.days90,\n      total90Plus: acc.total90Plus + supplier.buckets.days90Plus,\n      discountsAvailable: acc.discountsAvailable + (supplier.discountAvailable?.amount || 0),\n    }),\n    {\n      totalOwed: 0,\n      totalCurrent: 0,\n      total30: 0,\n      total60: 0,\n      total90: 0,\n      total90Plus: 0,\n      discountsAvailable: 0,\n    }\n  )\n\n  const totalOverdue =\n    totals.total30 + totals.total60 + totals.total90 + totals.total90Plus\n\n  return {\n    ...totals,\n    totalOverdue,\n    overduePercentage:\n      totals.totalOwed > 0\n        ? (totalOverdue / totals.totalOwed) * 100\n        : 0,\n    supplierCount: data.length,\n  }\n}\n\nfunction getPaymentMethodIcon(method?: string) {\n  switch (method) {\n    case \"ach\":\n      return <Banknote className=\"h-4 w-4\" />\n    case \"wire\":\n      return <DollarSign className=\"h-4 w-4\" />\n    case \"card\":\n      return <CreditCard className=\"h-4 w-4\" />\n    default:\n      return <CheckCircle className=\"h-4 w-4\" />\n  }\n}\n\n// ============================================================================\n// Sub-components\n// ============================================================================\n\nfunction AgingSummaryCards({\n  summary,\n  currency,\n}: {\n  summary: APAgingSummary\n  currency: string\n}) {\n  const cards = [\n    {\n      label: \"Total Payable\",\n      value: summary.totalOwed,\n      icon: DollarSign,\n      color: \"text-foreground\",\n    },\n    {\n      label: \"Current\",\n      value: summary.totalCurrent,\n      icon: CheckCircle,\n      color: \"text-green-600\",\n    },\n    {\n      label: \"1-30 Days\",\n      value: summary.total30,\n      icon: Clock,\n      color: \"text-amber-500\",\n    },\n    {\n      label: \"31-60 Days\",\n      value: summary.total60,\n      icon: AlertCircle,\n      color: \"text-orange-500\",\n    },\n    {\n      label: \"61-90 Days\",\n      value: summary.total90,\n      icon: AlertTriangle,\n      color: \"text-red-500\",\n    },\n    {\n      label: \"90+ Days\",\n      value: summary.total90Plus,\n      icon: AlertTriangle,\n      color: \"text-red-700\",\n    },\n  ]\n\n  return (\n    <div className=\"grid gap-4 md:grid-cols-3 lg:grid-cols-6\">\n      {cards.map((card) => (\n        <Card key={card.label} className=\"p-4\">\n          <div className=\"flex items-center gap-2\">\n            <card.icon className={cn(\"h-4 w-4\", card.color)} />\n            <span className=\"text-xs text-muted-foreground\">{card.label}</span>\n          </div>\n          <p className={cn(\"mt-2 text-xl font-bold\", card.color)}>\n            {formatCurrency(card.value, currency)}\n          </p>\n        </Card>\n      ))}\n    </div>\n  )\n}\n\nfunction PriorityBadge({ priority }: { priority?: \"low\" | \"normal\" | \"high\" | \"critical\" }) {\n  if (!priority || priority === \"normal\") return null\n\n  const config = {\n    low: { color: \"bg-gray-100 text-gray-700\", label: \"Low\" },\n    high: { color: \"bg-amber-100 text-amber-700\", label: \"High\" },\n    critical: { color: \"bg-red-100 text-red-700\", label: \"Critical\" },\n  }\n\n  const c = config[priority as keyof typeof config]\n  if (!c) return null\n\n  return <Badge className={cn(\"text-xs\", c.color)}>{c.label}</Badge>\n}\n\nfunction DiscountBadge({ discount }: { discount: SupplierAging[\"discountAvailable\"] }) {\n  if (!discount) return null\n\n  const dueDate = new Date(discount.dueDate)\n  const now = new Date()\n  const daysLeft = Math.ceil((dueDate.getTime() - now.getTime()) / (1000 * 60 * 60 * 24))\n  const isExpiringSoon = daysLeft <= 3 && daysLeft >= 0\n\n  return (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger>\n          <Badge\n            variant=\"outline\"\n            className={cn(\n              \"text-xs gap-1\",\n              isExpiringSoon && \"border-amber-500 text-amber-700 animate-pulse\"\n            )}\n          >\n            <DollarSign className=\"h-3 w-3\" />\n            Save {discount.terms}\n          </Badge>\n        </TooltipTrigger>\n        <TooltipContent>\n          <p>\n            Take {discount.terms} discount by{\" \"}\n            {new Date(discount.dueDate).toLocaleDateString()}\n          </p>\n          <p className=\"font-semibold\">\n            Save ${discount.amount.toLocaleString(\"en-US\", { minimumFractionDigits: 2 })}\n          </p>\n          {daysLeft >= 0 && <p className=\"text-xs\">{daysLeft} days remaining</p>}\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  )\n}\n\n// ============================================================================\n// Main Component\n// ============================================================================\n\nexport function APAgingTable({\n  data,\n  summary: providedSummary,\n  onSupplierClick,\n  onSchedulePayment,\n  onExport,\n  currency = \"$\",\n  showDiscounts = true,\n  showPaymentScheduling = true,\n  collapsible = true,\n  className,\n}: APAgingTableProps) {\n  const [expandedRows, setExpandedRows] = React.useState<Set<string>>(new Set())\n  const [selectedSuppliers, setSelectedSuppliers] = React.useState<Set<string>>(new Set())\n  const [sortBy, setSortBy] = React.useState<string>(\"totalOwed\")\n  const [sortDirection, setSortDirection] = React.useState<\"asc\" | \"desc\">(\"desc\")\n\n  const summary = providedSummary || calculateSummary(data)\n\n  const toggleRow = (id: string) => {\n    setExpandedRows((prev) => {\n      const next = new Set(prev)\n      if (next.has(id)) {\n        next.delete(id)\n      } else {\n        next.add(id)\n      }\n      return next\n    })\n  }\n\n  const toggleSelection = (id: string) => {\n    setSelectedSuppliers((prev) => {\n      const next = new Set(prev)\n      if (next.has(id)) {\n        next.delete(id)\n      } else {\n        next.add(id)\n      }\n      return next\n    })\n  }\n\n  const toggleSelectAll = () => {\n    if (selectedSuppliers.size === data.length) {\n      setSelectedSuppliers(new Set())\n    } else {\n      setSelectedSuppliers(new Set(data.map((s) => s.id)))\n    }\n  }\n\n  const sortedData = React.useMemo(() => {\n    return [...data].sort((a, b) => {\n      let aVal: number | string\n      let bVal: number | string\n\n      if (sortBy === \"name\") {\n        aVal = a.name\n        bVal = b.name\n      } else if (sortBy === \"totalOwed\") {\n        aVal = a.totalOwed\n        bVal = b.totalOwed\n      } else if (sortBy in a.buckets) {\n        aVal = a.buckets[sortBy as keyof AgingBucket]\n        bVal = b.buckets[sortBy as keyof AgingBucket]\n      } else {\n        return 0\n      }\n\n      if (typeof aVal === \"string\") {\n        return sortDirection === \"asc\"\n          ? aVal.localeCompare(bVal as string)\n          : (bVal as string).localeCompare(aVal)\n      }\n\n      return sortDirection === \"asc\" ? aVal - (bVal as number) : (bVal as number) - aVal\n    })\n  }, [data, sortBy, sortDirection])\n\n  const handleSort = (column: string) => {\n    if (sortBy === column) {\n      setSortDirection((prev) => (prev === \"asc\" ? \"desc\" : \"asc\"))\n    } else {\n      setSortBy(column)\n      setSortDirection(\"desc\")\n    }\n  }\n\n  const SortableHeader = ({\n    column,\n    children,\n    className: headerClassName,\n  }: {\n    column: string\n    children: React.ReactNode\n    className?: string\n  }) => (\n    <TableHead\n      className={cn(\"cursor-pointer select-none hover:bg-muted/50\", headerClassName)}\n      onClick={() => handleSort(column)}\n    >\n      <div className=\"flex items-center gap-1\">\n        {children}\n        {sortBy === column && (\n          <span className=\"text-xs\">{sortDirection === \"asc\" ? \"↑\" : \"↓\"}</span>\n        )}\n      </div>\n    </TableHead>\n  )\n\n  return (\n    <Card className={className}>\n      <CardHeader className=\"flex-row items-center justify-between space-y-0 pb-4\">\n        <div>\n          <CardTitle className=\"flex items-center gap-2\">\n            <DollarSign className=\"h-5 w-5\" />\n            Accounts Payable Aging\n          </CardTitle>\n          <CardDescription>\n            {summary.supplierCount} supplier(s) •{\" \"}\n            {showDiscounts && summary.discountsAvailable > 0 && (\n              <span className=\"text-green-600\">\n                {formatCurrency(summary.discountsAvailable, currency)} in discounts available\n              </span>\n            )}\n          </CardDescription>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          {showPaymentScheduling && selectedSuppliers.size > 0 && onSchedulePayment && (\n            <Button\n              size=\"sm\"\n              onClick={() => onSchedulePayment(Array.from(selectedSuppliers))}\n            >\n              <Calendar className=\"mr-2 h-4 w-4\" />\n              Schedule Payment ({selectedSuppliers.size})\n            </Button>\n          )}\n          {onExport && (\n            <DropdownMenu>\n              <DropdownMenuTrigger>\n                <Button variant=\"outline\" size=\"sm\">\n                  <Download className=\"mr-2 h-4 w-4\" />\n                  Export\n                </Button>\n              </DropdownMenuTrigger>\n              <DropdownMenuContent>\n                <DropdownMenuItem onClick={() => onExport(\"csv\")}>\n                  Export as CSV\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={() => onExport(\"excel\")}>\n                  Export as Excel\n                </DropdownMenuItem>\n                <DropdownMenuItem onClick={() => onExport(\"pdf\")}>\n                  Export as PDF\n                </DropdownMenuItem>\n              </DropdownMenuContent>\n            </DropdownMenu>\n          )}\n        </div>\n      </CardHeader>\n\n      <CardContent className=\"space-y-6\">\n        {/* Summary Cards */}\n        <AgingSummaryCards summary={summary} currency={currency} />\n\n        {/* Cash Flow Note */}\n        {(summary.cashRequired7Days || summary.cashRequired30Days) && (\n          <div className=\"rounded-lg bg-muted/50 p-4\">\n            <h4 className=\"font-medium mb-2 flex items-center gap-2\">\n              <Banknote className=\"h-4 w-4\" />\n              Cash Flow Projection\n            </h4>\n            <div className=\"grid gap-4 md:grid-cols-2\">\n              {summary.cashRequired7Days && (\n                <div>\n                  <span className=\"text-sm text-muted-foreground\">Next 7 Days:</span>\n                  <p className=\"text-lg font-bold\">\n                    {formatCurrency(summary.cashRequired7Days, currency)}\n                  </p>\n                </div>\n              )}\n              {summary.cashRequired30Days && (\n                <div>\n                  <span className=\"text-sm text-muted-foreground\">Next 30 Days:</span>\n                  <p className=\"text-lg font-bold\">\n                    {formatCurrency(summary.cashRequired30Days, currency)}\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Data Table */}\n        <div className=\"rounded-lg border\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                {showPaymentScheduling && (\n                  <TableHead className=\"w-8\">\n                    <Checkbox\n                      checked={selectedSuppliers.size === data.length && data.length > 0}\n                      onCheckedChange={toggleSelectAll}\n                    />\n                  </TableHead>\n                )}\n                {collapsible && <TableHead className=\"w-8\" />}\n                <SortableHeader column=\"name\">Supplier</SortableHeader>\n                <SortableHeader column=\"totalOwed\" className=\"text-right\">\n                  Total\n                </SortableHeader>\n                <SortableHeader column=\"current\" className=\"text-right\">\n                  Current\n                </SortableHeader>\n                <SortableHeader column=\"days30\" className=\"text-right\">\n                  1-30\n                </SortableHeader>\n                <SortableHeader column=\"days60\" className=\"text-right\">\n                  31-60\n                </SortableHeader>\n                <SortableHeader column=\"days90\" className=\"text-right\">\n                  61-90\n                </SortableHeader>\n                <SortableHeader column=\"days90Plus\" className=\"text-right\">\n                  90+\n                </SortableHeader>\n                {showDiscounts && <TableHead className=\"w-24\">Discount</TableHead>}\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {sortedData.map((supplier) => {\n                const isExpanded = expandedRows.has(supplier.id)\n                const isSelected = selectedSuppliers.has(supplier.id)\n                const hasOverdue =\n                  supplier.buckets.days30 > 0 ||\n                  supplier.buckets.days60 > 0 ||\n                  supplier.buckets.days90 > 0 ||\n                  supplier.buckets.days90Plus > 0\n\n                return (\n                  <React.Fragment key={supplier.id}>\n                    <TableRow\n                      className={cn(\n                        hasOverdue && \"bg-amber-50/50 dark:bg-amber-950/20\",\n                        isSelected && \"bg-primary/5\"\n                      )}\n                    >\n                      {showPaymentScheduling && (\n                        <TableCell className=\"w-8\">\n                          <Checkbox\n                            checked={isSelected}\n                            onCheckedChange={() => toggleSelection(supplier.id)}\n                          />\n                        </TableCell>\n                      )}\n                      {collapsible && (\n                        <TableCell className=\"w-8\">\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"h-6 w-6 p-0\"\n                            onClick={(e) => {\n                              e.stopPropagation()\n                              toggleRow(supplier.id)\n                            }}\n                          >\n                            {isExpanded ? (\n                              <ChevronDown className=\"h-4 w-4\" />\n                            ) : (\n                              <ChevronRight className=\"h-4 w-4\" />\n                            )}\n                          </Button>\n                        </TableCell>\n                      )}\n                      <TableCell\n                        onClick={() => onSupplierClick?.(supplier)}\n                        className={cn(\"font-medium\", onSupplierClick && \"cursor-pointer hover:text-primary\")}\n                      >\n                        <div className=\"flex items-center gap-2\">\n                          <span>{supplier.name}</span>\n                          {supplier.code && (\n                            <span className=\"text-xs text-muted-foreground\">\n                              ({supplier.code})\n                            </span>\n                          )}\n                          <PriorityBadge priority={supplier.priority} />\n                          {onSupplierClick && (\n                            <ExternalLink className=\"h-3 w-3 text-muted-foreground\" />\n                          )}\n                        </div>\n                      </TableCell>\n                      <TableCell className=\"text-right font-semibold\">\n                        {formatCurrency(supplier.totalOwed, currency)}\n                      </TableCell>\n                      <TableCell className=\"text-right text-green-600\">\n                        {formatCurrency(supplier.buckets.current, currency)}\n                      </TableCell>\n                      <TableCell\n                        className={cn(\n                          \"text-right\",\n                          supplier.buckets.days30 > 0 && \"text-amber-600\"\n                        )}\n                      >\n                        {formatCurrency(supplier.buckets.days30, currency)}\n                      </TableCell>\n                      <TableCell\n                        className={cn(\n                          \"text-right\",\n                          supplier.buckets.days60 > 0 && \"text-orange-600\"\n                        )}\n                      >\n                        {formatCurrency(supplier.buckets.days60, currency)}\n                      </TableCell>\n                      <TableCell\n                        className={cn(\n                          \"text-right\",\n                          supplier.buckets.days90 > 0 && \"text-red-600\"\n                        )}\n                      >\n                        {formatCurrency(supplier.buckets.days90, currency)}\n                      </TableCell>\n                      <TableCell\n                        className={cn(\n                          \"text-right\",\n                          supplier.buckets.days90Plus > 0 && \"font-semibold text-red-700\"\n                        )}\n                      >\n                        {formatCurrency(supplier.buckets.days90Plus, currency)}\n                      </TableCell>\n                      {showDiscounts && (\n                        <TableCell>\n                          <DiscountBadge discount={supplier.discountAvailable} />\n                        </TableCell>\n                      )}\n                    </TableRow>\n\n                    {/* Expanded Details Row */}\n                    {collapsible && isExpanded && (\n                      <TableRow className=\"bg-muted/30\">\n                        <TableCell colSpan={showPaymentScheduling ? 10 : 9}>\n                          <div className=\"grid gap-4 px-4 py-3 md:grid-cols-4\">\n                            {supplier.paymentTerms && (\n                              <div>\n                                <p className=\"text-xs text-muted-foreground\">Payment Terms</p>\n                                <p className=\"font-medium\">{supplier.paymentTerms}</p>\n                              </div>\n                            )}\n                            {supplier.preferredPaymentMethod && (\n                              <div>\n                                <p className=\"text-xs text-muted-foreground\">Payment Method</p>\n                                <div className=\"flex items-center gap-1 font-medium\">\n                                  {getPaymentMethodIcon(supplier.preferredPaymentMethod)}\n                                  <span className=\"capitalize\">{supplier.preferredPaymentMethod}</span>\n                                </div>\n                              </div>\n                            )}\n                            {supplier.lastPaymentDate && (\n                              <div>\n                                <p className=\"text-xs text-muted-foreground\">Last Payment</p>\n                                <p className=\"font-medium\">\n                                  {new Date(supplier.lastPaymentDate).toLocaleDateString()}\n                                  {supplier.lastPaymentAmount && (\n                                    <span className=\"text-muted-foreground\">\n                                      {\" \"}\n                                      ({formatCurrency(supplier.lastPaymentAmount, currency)})\n                                    </span>\n                                  )}\n                                </p>\n                              </div>\n                            )}\n                            <div className=\"flex items-end gap-2\">\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                onClick={() => onSupplierClick?.(supplier)}\n                              >\n                                View Details\n                                <ExternalLink className=\"ml-2 h-3 w-3\" />\n                              </Button>\n                              {showPaymentScheduling && onSchedulePayment && (\n                                <Button\n                                  size=\"sm\"\n                                  onClick={() => onSchedulePayment([supplier.id])}\n                                >\n                                  <Calendar className=\"mr-1 h-3 w-3\" />\n                                  Schedule\n                                </Button>\n                              )}\n                            </div>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    )}\n                  </React.Fragment>\n                )\n              })}\n\n              {/* Totals Row */}\n              <TableRow className=\"bg-muted/50 font-semibold\">\n                {showPaymentScheduling && <TableCell />}\n                {collapsible && <TableCell />}\n                <TableCell>Total ({summary.supplierCount} suppliers)</TableCell>\n                <TableCell className=\"text-right\">\n                  {formatCurrency(summary.totalOwed, currency)}\n                </TableCell>\n                <TableCell className=\"text-right text-green-600\">\n                  {formatCurrency(summary.totalCurrent, currency)}\n                </TableCell>\n                <TableCell className=\"text-right text-amber-600\">\n                  {formatCurrency(summary.total30, currency)}\n                </TableCell>\n                <TableCell className=\"text-right text-orange-600\">\n                  {formatCurrency(summary.total60, currency)}\n                </TableCell>\n                <TableCell className=\"text-right text-red-600\">\n                  {formatCurrency(summary.total90, currency)}\n                </TableCell>\n                <TableCell className=\"text-right text-red-700\">\n                  {formatCurrency(summary.total90Plus, currency)}\n                </TableCell>\n                {showDiscounts && <TableCell />}\n              </TableRow>\n            </TableBody>\n          </Table>\n        </div>\n      </CardContent>\n    </Card>\n  )\n}\n\n// ============================================================================\n// Exports\n// ============================================================================\n\nexport type { SupplierAging, APAgingSummary }\n// AgingBucket is re-exported from blocks/types.ts\n"
    }
  ]
}